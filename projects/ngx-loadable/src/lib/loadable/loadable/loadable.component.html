<ng-container [ngSwitch]="loadable | loadingState">
  <ng-container *ngSwitchCase="'Idle'">
    <ng-container *ngTemplateOutlet="idle ? idle : slotIdle"></ng-container>
  </ng-container>
  <ng-container *ngSwitchCase="'Loading'">
    <ng-container
      *ngTemplateOutlet="loading ? loading : slotLoading"
    ></ng-container>
  </ng-container>
  <ng-container *ngSwitchCase="'Loaded'">
    <ng-container
      *ngTemplateOutlet="
        loaded ? loaded : slotLoaded;
        context: { value: loadable.value }
      "
    ></ng-container>
  </ng-container>
  <ng-container *ngSwitchCase="'Error'">
    <ng-container
      *ngTemplateOutlet="
        error ? error : slotError;
        context: { error: loadable.error }
      "
    ></ng-container
  ></ng-container>
</ng-container>
<ng-template #slotIdle>
  <ng-content select="[slot=idle]"></ng-content>
</ng-template>
<ng-template #slotLoading>
  <ng-content select="[slot=loading]"></ng-content>
</ng-template>
<ng-template #slotLoaded>
  <ng-content select="[slot=loaded]"></ng-content>
</ng-template>
<ng-template #slotError>
  <ng-content select="[slot=error]"></ng-content>
</ng-template>
